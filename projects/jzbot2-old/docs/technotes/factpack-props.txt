Factpacks are stored in a file as a list of key/value pairs. They are not, however, stored according to the traditional .props/.ini file format. This file discusses the format of storing key/value pairs. It could just as well apply to any other format operating on key/value pairs as it does to factpacks.

The format is somewhat more complex than the simple "key=value" or "key:value" format used by .props/.ini-style files. The primary justification for the added complexity is the desire to avoid a particular escape character, as it should be possible to essentially paste a factoid verbatim into the file and have it be recognized as a factoid in a factpack. Previously, the factpack format used the standard .props/.ini format, which led to backslashes (which occur quite frequently in anything more than the simplest of factoids) having to be double-escaped. This was a royal pain when both writing factpacks and attempting to read them. With regular expressions requiring additional backslash characters, and the format's previous use of the $ sign to denote a global variable reference, something as simple as a regex matching a literal $ sign would contain "\\\\\\$", which is quite an excess of backslash characters.

The new format uses a system similar to the concept of heredocs found in many programming languages (such as bash scripts). This obviates the need for an escape character.

TODO: finish this spec. Most of it can be taken from factpack-format.txt (or whatever the newer version is), with the addition that value strings can be simply "-", which means that the value should be left blank, but the first continuation of the value should not cause a preceding newline to be added. And then continuations need to be documented.